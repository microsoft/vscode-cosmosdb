// A launch configuration that compiles the extension and then opens it inside a new window
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Launch Extension (webpack)",
      "type": "extensionHost",
      "request": "launch",
      "runtimeExecutable": "${execPath}",
      "args": ["--extensionDevelopmentPath=${workspaceFolder}/dist"],
      "outFiles": ["${workspaceFolder}/dist/**/*.js"],
      "preLaunchTask": "Watch",
      "autoAttachChildProcesses": true,
      "debugWebWorkerHost": true,
      "debugWebviews": false,
      "trace": true,
      "sourceMaps": true,
      "pauseForSourceMap": true,
      "rendererDebugOptions": {
        "webRoot": "${workspaceFolder}"
      },
      "resolveSourceMapLocations": ["${workspaceFolder}/dist/**", "!**/node_modules/**"],
      "sourceMapPathOverrides": {
        "./*": "${workspaceFolder}/*"
      },
      "env": {
        "DEBUGTELEMETRY": "true", // set this to "verbose" to see telemetry events in debug console
        "DEVSERVER": "true",
        "STOP_ON_ENTRY": "false" // stop on entry is not allowed for "type": "extensionHost", therefore, it's emulated here (review main.ts)
      }
    },
    {
      "name": "Launch Extension + AzureResources (webpack)",
      "type": "extensionHost",
      "request": "launch",
      "runtimeExecutable": "${execPath}",
      "args": [
        "--profile=noExtensionsProfile", // uses a local profile with a limited number of installed extensions
        "--extensionDevelopmentPath=${workspaceFolder}/dist",
        "--extensionDevelopmentPath=${workspaceFolder}/../vscode-azureresourcegroups"
      ],
      "outFiles": ["${workspaceFolder}/dist/**/*.js", "${workspaceFolder}/../vscode-azureresourcegroups/out/**/*.js"],
      "preLaunchTask": "Watch",
      "autoAttachChildProcesses": true,
      "debugWebWorkerHost": true,
      "debugWebviews": false,
      "trace": true,
      "sourceMaps": true,
      "pauseForSourceMap": true,
      "skipFiles": ["**/node_modules/**"],
      "smartStep": true,
      "sourceMapRenames": true,
      "rendererDebugOptions": {
        "webRoot": "${workspaceFolder}"
      },
      "resolveSourceMapLocations": ["${workspaceFolder}/dist/**", "!**/node_modules/**"],
      "sourceMapPathOverrides": {
        "./*": "${workspaceFolder}/*"
      },
      "env": {
        "DEBUGTELEMETRY": "true", // set this to "true" to suppress telemetry events in debug console
        "DEVSERVER": "true",
        "STOP_ON_ENTRY": "false" // stop on entry is not allowed for "type": "extensionHost", therefore, it's emulated here (review main.ts)
      }
    },
    {
      "type": "node",
      "request": "attach",
      "name": "Attach to Extension Host",
      "protocol": "inspector",
      "port": 5870,
      "sourceMaps": true,
      "restart": true,
      "outFiles": ["${workspaceFolder}/out/src"]
    }
  ]
}
